<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Projet</title>

  <link rel='shortcut icon' type='image/x-icon' href='img/icon.ico' />

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link href='bootstrap/css/bootstrap.css' rel='stylesheet'>
  <link href='bootstrap/css/custom.css' rel='stylesheet'>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src='bootstrap/js/bootstrap.js'></script>

  <script src='js/conf/config.js'></script>

  <script src='js/main.js'></script>
  <script src='js/map.js'></script>
  <script src='js/search.js'></script>
  <script src='js/notifications.js'></script>
  <script src='js/preferences.js'></script>
  <script src='js/sw/msg.js'></script>
  <script src='js/sw/swh.js'></script>
  <script src='js/cookies/cookie.js'></script>

  <script>
  window.alert = function(message, fallback)
  {
    notify(message)
  }
  </script>

  <!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCESzzLzwD8BDqHTWUpsG6kP1EzsL5KXPk&callback=initMap" async defer> </script> -->
  <script src="https://maps.googleapis.com/maps/api/js?key=&callback=initMap" async defer></script>

  <link rel="manifest" href="./manifest.json">
</head>
<body>
<body>
  <div id="notificationDiv" class="fixed-top d-flex flex-column mx-auto justify-content-center pt-4"></div>
  <div class="container-fluid">
    <div class="row main-row">
      <div class="col-sm p-0" id="div-col-map">
        <div id="div-map"></div>
      </div>
      <div class="col-sm-4 p-3">
        <button type="button" class="btn btn-primary btn-block mb-4" onclick="openPreferences()">Préférences</button>
        <div class="border border-primary p-3 rounded overflow-auto"
          <form>
            <div class="form-group">
              <label for="dateDebutInput">Date de début</label>
              <input type="date" class="form-control" id="dateDebutInput">
            </div>
            <div class="form-group">
              <label for="dateFinInput">Date de fin</label>
              <input type="date" class="form-control" id="dateFinInput">
            </div>
            <div class="form-group">
              <label for="keywordsInput">Mot-clés (séparés par des virgules)</label>
              <input type="text" class="form-control" id="keywordsInput">
            </div>
            <button type="button" class="btn btn-primary btn-block" id="searchButton" onclick="makeSearch()">
              Rechercher
            </button>
          </form>
          <!-- <label class="mt-3" for="eventListGroup">Événements correspondants à la recherche :</label> -->
          <div class="list-group mb-3" id="eventListGroup"></div>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal de préférences -->
  <div class="modal fade" id="modalPreferences" tabindex="-1" role="dialog" aria-labelledby="modalPreferencesTitre" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalPreferencesTitre">Vos préférences</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <label for="listeArtistesPreferences">
            Artistes à inclure dans la recherche
          </label>
          <ul class="list-group " id="listeArtistesPreferences"></ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
          <button type="button" class="btn btn-primary" onclick="savePreferences()">Sauvegarder</button>
        </div>
      </div>
    </div>
  </div>
</body>
<script type="application/javascript">
$(window).on('load',e => {
  init();
});
</script>
</html>
